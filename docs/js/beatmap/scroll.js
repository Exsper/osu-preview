function Scroll(t){Beatmap.call(this,t),this.scrollAtTimingPointIndex=[0];var i=this.timingPointIndexAt(0),n=this.TimingPoints[i],e=this.TimingPoints[0],s=e.beatLength/n.beatLength;for(this.scrollAtTimingPointIndex[i]=n.time*s;++i<this.TimingPoints.length;){var o=this.TimingPoints[i];this.scrollAtTimingPointIndex[i]=(o.time-n.time)*s+this.scrollAtTimingPointIndex[i-1],s=e.beatLength/(n=o).beatLength}this.barLines=[];for(var h=(this.HitObjects.length?this.HitObjects[this.HitObjects.length-1].endTime:0)+1,r=0;r<this.TimingPoints.length;r++)for(var l=(e=(n=this.TimingPoints[r]).parent||n).beatLength*e.meter,g=(o=this.TimingPoints[r+1])?(o.parent||o).time:h,m=e.time;m<g;m+=l)this.barLines.push(this.scrollAt(m))}Scroll.prototype=Object.create(Beatmap.prototype),(Scroll.prototype.constructor=Scroll).prototype.scrollAt=function(t){var i=this.timingPointIndexAt(t),n=this.TimingPoints[i],e=this.TimingPoints[0].beatLength/n.beatLength;return(t-n.time)*e+this.scrollAtTimingPointIndex[i]};